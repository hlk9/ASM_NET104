@using Org_DAL.Models
@model Product
@{
    ViewData["Title"] = "Detail";
}

<div>
    <div class="row">
        <div class="col-lg-6">
            <div class="border rounded">
                <img src="@Model.ImageUrl" width="100%" />
            </div>
        </div>
        <div class="col-lg-6">
            <div class="d-flex flex-column">
                <div class="fs-4 fw-semibold">
                    @Model.ProductName
                </div>
                <div class="fw-light fs-6 text-secondary">
                    Đã bán: 90
                </div>
                <div>
                    Giá: <span class="fw-bold">@Model.Priced đ</span>
                </div>
                <div class="d-flex justify-content-between text-secondary">
                    <div>
                        Giá khuyến nghị: <span class="text-secondary text-decoration-line-through "> @Model.ListedPriced đ</span>
                    </div>
                    <div class="text-uppercase text-success">
                        Còn hàng
                    </div>
                </div>
                <div class="text-secondary">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </div>
                <div class="text-secondary">
                    <ul>
                        <li>
                            <span class="fw-bold">Khối lượng:</span> @Model.Weight g
                        </li>
                        <li>
                            <span class="fw-bold">Hình thức đóng gói:</span> @Model.TypeClosure
                        </li>
                        <li>
                            <span class="fw-bold">
                                Ngày sản xuất:
                            </span> @Model.MFG
                        </li>
                        <li>
                            <span class="fw-bold"> Hạn Sử dụng:</span> @Model.EXP
                        </li>
                    </ul>
                </div>
                <div class="mt-3 mb-3 d-flex align-items-center">
                    <div class="d-flex">


                        <button class="btn btn-link px-2"
                                onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus"></i>
                        </button>
                        <form id="quantityForm">
                            <input min="0" style="width:50px" value="1" type="number" class="form-control form-control-sm" name="qty" />
                        </form>
                        <button class="btn btn-link px-2"
                                onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                        </button>

                    </div>
                    <a class="text-uppercase btn btn-outline-success fw-bold ms-4" onclick="addToCart(@Model.Id)">
                        Thêm vào giỏ hàng
                    </a>
                </div>
                @if (ViewBag.Error != null)
                {
                    <div class="alert alert-danger" role="alert">
                        @ViewBag.Error
                    </div>
                }
                <div id="gi-spt-nav-details" class="tab-pane fade show active text-secondary" role="tabpanel" aria-labelledby="details-tab">
                    <div class="gi-single-pro-tab-desc">
                        <p>
                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                            Lorem Ipsum has been the industry's standard dummy text ever since the
                            1500s, when an unknown printer took a galley of type and scrambled it to
                            make a type specimen book. It has survived not only five centuries, but also
                            the leap into electronic typesetting, remaining essentially unchanged.
                        </p>
                        <ul>
                            <li>Any Product types that You want - Simple, Configurable</li>
                            <li>Downloadable/Digital Products, Virtual Products</li>
                            <li>Inventory Management with Backordered items</li>
                            <li>Flatlock seams throughout.</li>
                        </ul>
                        <p>
                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                            Lorem Ipsum has been the industry's standard dummy text ever since the
                            1500s, when an unknown printer took a galley of type and scrambled it to
                            make a type specimen book. It has survived not only five centuries, but also
                            the leap into electronic typesetting, remaining essentially unchanged.
                        </p>
                        <p>
                            There are many variations of passages of Lorem Ipsum available, but the
                            majority have
                            suffered alteration in some form, by injected humour, or randomised words
                            which don't
                            look even slightly believable. If you are going to use a passage of Lorem
                            Ipsum,
                            you need to be sure there isn't anything embarrassing hidden in the middle
                            of text.
                            All the Lorem Ipsum generators on the Internet tend to repeat predefined
                            chunks as necessary,
                            making this the first true generator on the Internet. It uses a dictionary
                            of over
                            200 Latin words, combined with a handful of model sentence structures, to
                            generate
                            Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore
                            always
                            free from repetition, injected humour, or non-characteristic words etc.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function addToCart(productId) {
        var quantity = document.querySelector("#quantityForm input[name='qty']").value;
        var url = `/Product/AddToCart?Id=${productId}&qty=${quantity}`;
        window.location.href = url;
    }
</script>